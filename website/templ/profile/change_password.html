{% extends "base.html" %}
{% block title %}
Change password
{% endblock %}
{% block main %}
<h1><span class="fa fa-user"></span> {{ current_user.username }}</h1>

<ol class="breadcrumb">
    <li><a href="{{ url_for(['ProfileController', 'index']) }}">Profile</a></li>
    <li><a href="{{ url_for(['ProfileController', 'change_password']) }}">Change password</a></li>
</ol>

{% import "form_macros.html" as fm %}

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Change password</h3>
    </div>
    <div class="panel-body">
        <form action="{{ url_for(['ProfileController', 'change_password']) }}" method="post" class="form form-horizontal">
            <input type="hidden" name="formsave" value="{{ formsave }}" />

            <div class="form-group {{ fm.error_class(formerrors, 'old_password') }}">
                <label class="col-sm-2 control-label" for="inputOldPassword">Old password:</label>
                <div class="col-sm-10">
                    <input type="password" name="old_password" id="inputOldPassword" value="" class="form-control" />
                </div>
                {{ fm.error(formerrors, 'old_password') }}
            </div>

            <div class="form-group {{ fm.error_class(formerrors, 'password') }}">
                <label class="col-sm-2 control-label" for="inputPassword">New password:</label>
                <div class="col-sm-10">
                    <input type="password" name="password" id="inputPassword" value="" class="form-control" />
                </div>
                {{ fm.error(formerrors, 'password') }}
            </div>

            <div class="form-group {{ fm.error_class(formerrors, 'password1') }}">
                <label class="col-sm-2 control-label" for="inputPassword1">Retype new password:</label>
                <div class="col-sm-10">
                    <input type="password" name="password1" id="inputPassword1" value="" class="form-control" />
                </div>
                {{ fm.error(formerrors, 'password1') }}
            </div>

            <div class="form-group">
                <div class="col-sm-10 col-sm-offset-2">
                    <input type="submit" class="btn btn-primary" value="Change" />
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock %}