{% extends "base.html" %}
{% block main %}
<h1><span class="fa fa-hand-o-right"></span> {{ check.name }}</h1>

<ol class="breadcrumb">
    <li><a href="{{ url_for(['ChecksController', 'index']) }} ">Checks</a></li>
    <li><a href="{{ url_for(['ChecksController', 'detail'], {'id': check.id}) }}">{{ check.name }}</a></li>
    <li><a href="{{ url_for(['ChecksController', 'charts'], {'id': check.id}) }}">Charts</a></li>
    <li><a href="{{ url_for(['ChecksController', 'chart_detail'], {'check_id': check.id, 'chart_id': chart.id}) }}">{{ chart.name }}</a></li>
</ol>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <h2 class="panel-title">{{ chart.name }}</h2>
    </div>

    <div class="panel-body">
        <div class="row">
            <div class="col-sm-6">
                <h3>Daily</h3>
                <div class="chart-container">
                    <div class="chart">
                         <div id="chart_daily"></div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <h3>Weekly</h3>
                <div class="chart-container">
                    <div class="chart">
                         <div id="chart_weekly"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <h3>Monthly</h3>
                <div class="chart-container">
                    <div class="chart">
                         <div id="chart_monthly"></div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <h3>Yearly</h3>
                <div class="chart-container">
                    <div class="chart">
                         <div id="chart_yearly"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', 'flot/jquery.flot.min.js') }}"></script>
<script src="{{ url_for('static', 'flot/jquery.flot.time.min.js') }}"></script>
<script>
$(function(){
    var charts = [];
    var url_base = "{{ url_for(['ChecksController', 'chart_data'], {'id': check.id, 'chart_id': "-chart_id-"} ) }}";

    charts.push({"id": {{ chart.id }}, "container": "#chart_daily", "granularity": "daily"});
    charts.push({"id": {{ chart.id }}, "container": "#chart_weekly", "granularity": "weekly"});
    charts.push({"id": {{ chart.id }}, "container": "#chart_monthly", "granularity": "monthly"});
    charts.push({"id": {{ chart.id }}, "container": "#chart_yearly", "granularity": "yearly"});

    charts_multiple(charts, url_base);
});
</script>

{% endblock %}